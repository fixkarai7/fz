import math, collections

docs = ["A man and a woman.", "A baby."]
vocab = sorted(set(w.lower().strip('.,') for d in docs for w in d.split()))

def vectorize(text):
    count = collections.Counter(w.lower().strip('.,') for w in text.split())
    return [count[word] for word in vocab]

def cosine(a, b):
    dot = sum(x*y for x,y in zip(a,b))
    mag_a = math.sqrt(sum(x*x for x in a))
    mag_b = math.sqrt(sum(y*y for y in b))
    return dot / (mag_a * mag_b)

query = "woman"
q_vec = vectorize(query)

for i, doc in enumerate(docs, 1):
    sim = cosine(vectorize(doc), q_vec)
    print("Doc", i, "similarity:", round(sim, 3))
